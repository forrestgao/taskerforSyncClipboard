# taskerforSyncClipboard
SyncClipboard对应的Tasker配置参考文件

## 文件介绍
1. 前提：必须root，tasker要获取必要的剪贴板权限，且其中文件分享上传依赖autoshare
2. 自动触发只需要下载并导入三个prf.xml文件，且修改替换同步服务器的ip、用户名、密码及自动下载的文件夹（自动上传文件.prf.xml作用是利用autoshare分享文件时自动上传到其他同步电脑的剪贴板；自动更新剪贴板.prf.xml用来将电脑剪贴板上的文本同步到安卓手机的剪贴板，文件则自动下载到指定文件夹；剪贴板监控.prf.xml则用来将手机剪贴板上的文字同步到电脑剪贴板）
3. 手动触发只需要下载并导入三个tsk.xml文件，且修改替换同步服务器的ip及用户名密码（从电脑同步.tsk.xml用来将电脑剪贴板上的文本同步到安卓手机的剪贴板，文件则自动下载到指定文件夹；文本到电脑.tsk.xml用来将手机剪贴板上的文字同步到电脑剪贴板；文件到电脑.tsk.xml是利用autoshare分享文件时自动上传到其他同步电脑的剪贴板）

## 注意点
1. 手机剪贴板文字在同步前要将特殊符号转义处理，不然识别不出来，上面的参考文件中已基本实现，只是不一定完善；
2. 从电脑同步文件后如果该文件是图片，就要刷新新媒体库，不然像册等应用无法及时识别，上面的参考文件中已用命令实现；
3. 现在的同步逻辑实际上没校验md5，如果有需求的可自己加，而且同步逻辑并不是最优的，手机端剪贴板文字变更后check.txt中的记录实际上是后面从服务器上同步过来的……
4. 经测试Tasker监控剪贴板内容变化不完美，我的手机上有时复制文字后Tasker能检测到剪贴板内容变化，可%CLIP变量无法及时更新，这样会影响上传到服务器的文字，这个BUG有时会出现，但很多时候也能正常工作，目前没找到具体原因。
         
## 关于验证码自动上传
1. 用Tasker可以实现自动提取短信验证码（正则提取）并复制到剪贴板，同时调TTS语音朗读，这个功能我自己实现并用了好多年了，现在部分系统也具备验证码便捷复制的功能；
2. 只要验证码能自动提取并复制到剪贴板，上面的配置文件就可以将验证码同步到电脑剪贴板。
